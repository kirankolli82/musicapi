spring.application.name=musicapi
server.port=8888
quote-client.base-url=https://api.stockdata.org/v1
quote-client.gcp-project-id=${GCP_PROJECT_ID:kiran-stock-api-project}
quote-client.api-token-secret-id=${API_TOKEN_SECRET_ID:stockdata_org_token}

alphavantage-client.base-url=https://www.alphavantage.co
alphavantage-client.gcp-project-id=${GCP_PROJECT_ID:kiran-stock-api-project}
alphavantage-client.api-key-secret-id=${ALPHAVANTAGE_API_KEY_SECRET_ID:alpha_vantage_access_key}

# Enable GCP authentication diagnostics (set to true to debug Secret Manager issues)
gcp.diagnostics.enabled=false

# Flyway settings
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# Datasource (these are sensible defaults for local development; tests will supply Testcontainers URI)
spring.datasource.url=jdbc:postgresql://localhost:5432/musicapi
spring.datasource.username=musicapi
spring.datasource.password=musicapi
spring.datasource.driver-class-name=org.postgresql.Driver

logging.level.org.springframework.boot.autoconfigure=INFO
logging.level.org.springframework.cache=DEBUG

# Spring Integration
spring.integration.poller.fixed-delay=1000
spring.integration.poller.max-messages-per-poll=1

# Price Fetcher Integration Flow
# Cron schedule: 0 0 9,12,15 * * ? (9 AM, 12 PM, 3 PM EST)
# Timezone: America/New_York (EST/EDT)
price-fetcher.enabled=true

